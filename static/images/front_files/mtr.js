/* $Id: mtr.js 156480 2017-07-26 17:51:55Z tatiana.tun $ */
"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){"function"==typeof define&&define.amd?define("auth/gateway/creatives",[],function(){return e()}):"object"==typeof NYTD&&(NYTD.GatewayCreatives=e())}(function(){return{defaultGateway:'<span class="adxInfo mktInfo"style="display:none">campaign: default_gw, creative: gateway, source: mtr.js</span><style>@import url(https://a1.nyt.com/fonts/css/fonts.css);.font-smoothing{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#gw-bg{position:relative;margin:0 auto;width:750px;height:413px;background-color:#9bcdfd}#gw-hdr{position:absolute;top:0;width:100%;font-family:franklin-normal-500,sans-serif;text-transform:uppercase;height:27px;text-align:center;font-size:12px;color:#fff}#gw-hdr a{color:#fff;font-size:11px;line-height:18px;text-transform:none;text-decoration:underline}#bocDefaultGW-Logo{position:absolute;bottom:68px;right:44px;width:211px;height:36px}#gw-headline{position:absolute;top:0;left:0;background-color:#000;font-family:franklin-normal-600,\'Helvetica Neue\',Arial,sans-serif;font-style:normal;font-weight:600;font-size:13px;text-transform:uppercase;width:100%;height:27px;text-align:center;color:#fff;line-height:25px;z-index:9}#bocDefaultGW-headline-title{position:absolute;top:90px;left:44px;font-family:karnak-normal-400,sans-serif;font-style:normal;font-weight:400;font-size:36px;line-height:37.5px;letter-spacing:-.2px;color:#1a1a1a;z-index:9}#gw-headline-title span{font-family:franklin-normal-300,sans-serif;font-style:normal;font-weight:300;letter-spacing:-.3px}#bocDefaultGW-blackline{position:absolute;top:150px;left:45px;width:95px;border-bottom:3px solid #000}#bocDefaultGW-subhead{position:absolute;bottom:208px;left:44px;color:#000;font-family:franklin-normal-300,sans-serif;font-weight:300;font-style:normal;font-size:36px;line-height:36px;letter-spacing:-.4px}#gw-cta{font-family:franklin-normal-700,\'helvetica neue\',arial,sans-serif;font-weight:700;position:absolute;bottom:120px;left:45px;width:145px;height:38px;background:#000;font-size:15.5px;line-height:37px;text-align:center;text-decoration:none;border-radius:3px;z-index:1000000}#gw-cta a{display:block;height:100%;cursor:pointer;color:#fff;text-decoration:none;text-transform:uppercase}#gw-ftr{position:absolute;bottom:0;left:0;background-color:#fff;font-family:\'Helvetica Neue\',Arial,sans-serif;width:100%;height:32px;font-size:10px;color:#000}#cta-extended{width:100%}#login_elements{position:absolute;bottom:14px;left:44px;color:#000;z-index:10000;font-family:\'helvetica neue\',arial,sans-serif;font-size:10px}#login_elements a{color:#000;text-decoration:underline}#gw-linkhd a{text-decoration:underline}#gw-linkhd{position:absolute;bottom:14px;right:45px;color:#000;z-index:1000000;font-family:\'helvetica neue\',arial,sans-serif;font-size:10px}#gw-linkhd a{color:#000}#gw-bg .hidden,.adx-info,.hide_login{display:none}.gw-clickable{width:750px;height:426px}#gw-container{position:relative;margin:0 auto;width:750px;-webkit-font-smoothing:antialiased}</style><div class="font-smoothing"id="gw-container"><div id="gw-headline">YOU HAVE REACHED YOUR FREE ARTICLE LIMIT FOR THE MONTH.</div><div id="gw-cta"><a href="https://www.nytimes.com/subscriptions/Multiproduct/lp8HYKU.html?campaignId=6KYF6"id="cta-extended"target="_blank">SEE MY OPTIONS</a></div><div id="gw-linkhd">Home delivery subscriber? <a href="https://myaccount.nytimes.com/link/homedelivery"target="_blank">Link account.</a></div><div class="hide_login"id="login_elements">Already a digital subscriber? <a class="sitewideLogInModal login-modal-trigger"href="https://myaccount.nytimes.com/auth/login"id="gw-login-btn">Log in.</a></div><div id="gw-bg"><div id="gw-hdr"></div><a href="https://www.nytimes.com/subscriptions/Multiproduct/lp8HYKU.html?campaignId=6KYF6"target="_blank"><div class="gw-clickable"id="gw-body"><svg aria-label="The New York Times"id="bocDefaultGW-Logo"><image alt="The New York Times"border="0"height="100%"src="//cdn.optimizely.com/img/3013110282/b5568a31e87c4256984a4754cb1072dc.png"width="100%"xlink:href="https://static01.nyt.com/marketing/assets/2017/nyt-logo-379x64.svg"></image></svg><div id="bocDefaultGW-headline-title">Invite a new subject into your life.</div><div id="bocDefaultGW-blackline"></div><div id="bocDefaultGW-subhead">Subscribe to The Times.</div></div></a><div id="gw-ftr"></div></div></div><script src="https://static01.nyt.com/marketing/assets/optly/scripts/gateway/gw_nyt_4-5_select.js"></script>',defaultGrowl:{ads:{Left9:{campaign:"default_growl",campaignId:"001",campaignName:"default_growl",classification:"Growl",creative:'<span class="adxInfo mktInfo"style="display:none">campaign: default_growl, creative: growl, source: mtr.js</span><style>@import url(https://a1.nyt.com/fonts/css/fonts.css);.font-smoothing{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.nowrap{white-space:nowrap}#instl,#instl_container,#instl_supercontainer{display:none}.meter-asset-wrapper{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#EFEFEF;overflow:hidden;padding:0;max-width:1170px;height:60px;position:fixed;margin:0 0 8px 2%;left:0;right:0;bottom:-80px;-webkit-box-shadow:0 0 10px 2px rgba(0,0,0,.1);box-shadow:0 0 10px 2px rgba(0,0,0,.1);z-index:1000000100;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;-webkit-transition:height .6s ease-in-out,.25s;transition:height .6s ease-in-out,.25s}@media only screen and (min-width:1238px){.meter-asset-wrapper{margin:0 0 8px calc((100% - 1170px)/ 2)}}.growl_open{width:96%}.meter-asset-wrapper.getMedium{height:350px;padding:0}.meter-asset-wrapper.init-hide-small{padding:40px 0 0;height:100px}#cta-list li{background:0 0;font-size:14px;font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif;font-weight:200;color:#000}.arrow-icon{-webkit-transition:left .3s ease-in,0s;transition:left .3s ease-in,0s;height:19.5px;width:19.5px;display:inline;position:relative;top:6.5px;left:-6px}.arrow-icon .arrow-icon--path{fill:none;stroke:#ABABAB;stroke-width:2;stroke-miterlimit:10;-webkit-transition:stroke .3s ease-in,0s;transition:stroke .3s ease-in,0s}.checkmark_icon{height:28px;width:26px;padding-right:4px;position:relative;top:6px}.checkmark_icon_st0{fill:none;stroke:#2D2D2D;stroke-width:8;stroke-miterlimit:10}.checkmark_icon_st1{fill:none;stroke:#2D2D2D;stroke-width:4;stroke-miterlimit:10}h2.offer-header{color:#2D2D2D;font-family:franklin-normal-300,sans-serif;font-style:normal;font-weight:300;font-size:22px;line-height:32px;text-align:center;margin-bottom:25px}p.offer-price-line{color:#2D2D2D;font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif,sans-serif;font-size:14px;line-height:14px;font-weight:300;text-align:center;margin:10px 0}.subscriber-link{margin:0 auto;position:absolute;left:13px;right:0;bottom:23px;text-align:center}.user-logged-in .subscriber-link{display:none}.subscriber-link a{color:#9B9B9B;text-decoration:none;font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif,sans-serif;font-size:14px;font-weight:600;-webkit-transition:color .1s ease-in,0s;transition:color .1s ease-in,0s}.subscriber-link a:hover{color:#2D2D2D}.subscriber-link a:hover .arrow-icon{left:-1px}.subscriber-link a:hover .arrow-icon .arrow-icon--path{stroke:#2D2D2D}.meter-asset-wrapper--inner{width:100%;position:relative}.meter-asset-wrapper--inner p{font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif,sans-serif}.meter-asset-wrapper--inner .cta-btn{background-color:#9BCDFD;height:34px;width:130px;text-align:center;text-transform:uppercase;font-family:franklin-normal-700,sans-serif;color:#000;font-size:12px;font-style:normal;font-weight:700;border-radius:4px;padding:2px 5px 3px;border:none;-webkit-transition:all .3s 0s,.4s;transition:all .3s 0s,.4s}.meter-asset-wrapper--inner .cta-btn:hover{color:#2D2D2D;background-color:transparent;border:1px solid #2D2D2D}.meter-asset-wrapper--inner .cta-btn:active{border:none;-webkit-box-shadow:none;box-shadow:none}.cta-connect-medium-section--inner .cta-btn{margin:5px 0 18px -4px}.meter-asset-small{opacity:1;width:100%;height:60px;position:relative;padding:10px 0;z-index:999;-webkit-transition:opacity .25s ease-in,0s;transition:opacity .25s ease-in,0s}.meter-asset-small.show-small{opacity:1;z-index:999}.meter-asset-small.hide-small{opacity:0;z-index:998}.meter-asset-small #cta-list{clear:both}#gray-close{height:53px;width:53px;position:absolute;right:0;top:0;z-index:11111111}#gray-close .gray-close-0{fill:none;stroke:#9B9B9B;stroke-width:4;stroke-miterlimit:10;-webkit-transition:stroke-width .3s ease-in,1s;transition:stroke-width .3s ease-in,1s}#gray-close:hover .gray-close-0{stroke-width:5}.arrow-icon-expGrowl{height:63px;width:63px;position:absolute;top:-10px;right:-4px;-webkit-transform:rotate(90deg);transform:rotate(90deg);z-index:11111111}.arrow-icon--path-expGrowl{fill:none;stroke:#9B9B9B;stroke-width:2;stroke-miterlimit:10;-webkit-transition:stroke .3s ease-in,1s;transition:stroke .3s ease-in,1s}.arrow-icon-expGrowl:hover .arrow-icon--path-expGrowl{height:75px;width:75px}.meter-asset-small--inner{width:100%;height:100%}.meter-asset-small--inner .rem-arts-small-container{position:relative;top:-1px;text-align:center;width:10%;float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:6px 4px 4px}.meter-asset-small--inner .rem-arts-small-container h3{font-size:24px;font-family:franklin-normal-500,sans-serif;font-style:normal;font-weight:500;color:#2D2D2D;margin:0 0 8px 0}.meter-asset-small--inner .rem-arts-small-container p{text-transform:uppercase;font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif,sans-serif;color:#2D2D2D;font-size:9px;font-weight:600}.tagline-offer-text-smallScrn{font-family:franklin-normal-600,sans-serif;font-style:normal;font-weight:600;color:#2D2D2D;font-size:16px;display:none}.articles-remain-copy-smallScrn{display:none}.meter-asset-small--inner .cta-login-small-container .cta-wrapper{float:left;position:relative;top:4px}.subscriber-copy-login-small{display:none}.meter-asset-small--inner .cta-login-small-container .login-wrapper{position:relative;top:14px;display:inline-block;float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding-left:5px}.meter-asset-small--inner .cta-login-small-container{position:absolute;top:9px;right:56px}.meter-asset-small--inner .rem-arts-small-container{top:-4px;left:2px}.meter-asset-small--inner .separator-small{width:1px;height:100%;background-color:#CCC;float:left;position:relative;top:-10px}.meter-asset-small--inner .tagline-small-container{position:relative;top:6px;width:68%;-webkit-box-sizing:border-box;box-sizing:border-box;padding-left:2%;padding-right:2%;text-align:left;float:left;letter-spacing:.001em}.meter-asset-small--inner .tagline-small-container p{font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif,sans-serif;color:#000;font-size:16px;font-weight:300;padding-top:6px}.meter-asset-medium--inner .cta-callout-medium-section .cta-callout-medium-section--inner.show-medium-inner h1{font-family:karnak-normal-400,sans-serif;font-style:normal;font-weight:400;color:#000;font-size:40px;line-height:40px;width:88%}.meter-asset-medium--inner .cta-callout-medium-section .cta-callout-medium-section--inner.show-medium-inner span{font-family:franklin-normal-300,sans-serif;font-style:normal;font-weight:300;color:#fff;font-size:32px;line-height:32px}@media only screen and (max-width:1046px){.meter-asset-small--inner .rem-arts-small-container p.articles-remain-copy{display:none}.meter-asset-small--inner .rem-arts-small-container p.articles-remain-copy-smallScrn{display:block;line-height:9px;margin:0!important}}@media only screen and (max-width:1024px){.meter-asset-wrapper{height:40px}.tagline-offer-text-smallScrn{display:inline-block}.meter-asset-small--inner .separator-small{top:-6px}.meter-asset-small--inner .tagline-small-container{top:3px;width:66%}p.tagline-offer-text{display:none}.meter-asset-small--inner .rem-arts-small-container{width:10%;padding:0;top:-2px}.meter-asset-small--inner .rem-arts-small-container h3{font-size:18px;margin:0 0 5px 0}.meter-asset-small{padding:6px 0}.meter-asset-small--inner .cta-login-small-container .cta-wrapper{top:0}.meter-asset-wrapper--inner .cta-btn{height:29px;font-size:11px}.subscriber-copy-already{display:none}.subscriber-copy-login{display:none}.subscriber-copy-login-small{display:block;float:left;padding-left:3px}.meter-asset-small--inner .cta-login-small-container .login-wrapper{position:relative;top:6px}.meter-asset-small--inner .cta-login-small-container .login-wrapper{margin-right:0}.cta-login-small-container .login-wrapper{width:inherit}.meter-asset-small--inner .cta-login-small-container{top:6px}}.meter-asset-small--inner .tagline-small-container p span{font-family:karnak-normal-400,sans-serif;font-style:normal;font-weight:400;color:#000}.user-logged-in .meter-asset-small--inner .cta-login-small-container .login-wrapper{display:none}.meter-asset-medium{opacity:0;height:100%;position:absolute;top:0;z-index:998;-webkit-transition:opacity .45s ease-out,.5s;transition:opacity .45s ease-out,.5s}.meter-asset-medium.show-medium{opacity:1;z-index:999}.meter-asset-medium.hide-medium{opacity:0;z-index:998}.meter-asset-medium--header{z-index:11111111111;opacity:1}.meter-asset-medium--inner{height:100%;width:100%;position:relative;opacity:1}.meter-asset-medium--inner .cta-callout-medium-section{-webkit-box-sizing:border-box;box-sizing:border-box;width:60%;height:100%;background-color:#9BCDFD;float:left;padding:2%}.meter-asset-medium--inner .cta-callout-medium-section .cta-callout-medium-section--inner{opacity:0;top:400px;-webkit-transition:all .25s ease-in-out,.85s;transition:all .25s ease-in-out,.85s}.meter-asset-medium--inner .cta-callout-medium-section .cta-callout-medium-section--inner.show-medium-inner{opacity:1;top:0;padding-top:15%}.meter-asset-medium--inner .cta-callout-medium-section h1{width:100%}.meter-asset-medium--inner .cta-callout-medium-section span{width:100%}.meter-asset-medium--inner .cta-callout-medium-section .bigger-truth{font-size:48px;margin-bottom:0}.meter-asset-medium--inner .cta-callout-medium-section p{font-weight:200;font-size:15px;font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif;color:#fff;margin-bottom:10px}.meter-asset-medium--inner .cta-callout-medium-section p:last-of-type{margin-bottom:0}.meter-asset-medium--inner .cta-callout-medium-section .cta-callout-list-header{font-weight:500;font-size:18px;font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif;color:#fff;margin-bottom:10px}.meter-asset-medium--inner .cta-callout-medium-section ul{list-style-type:none;margin-left:14px;padding-left:.7em;text-indent:-1.95em;width:89%}.meter-asset-medium--inner .cta-callout-medium-section ul li{font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif,sans-serif;font-size:16px;font-weight:400;color:#fff;list-style:none;line-height:16px;line-height:1rem}.meter-asset-medium--inner .cta-callout-medium-section .cta-callout-list-header-bold{font-size:16px;font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif;color:#fff;font-weight:500;padding-bottom:20px;padding-top:10px}.meter-asset-medium--inner .cta-callout-medium-section #cta-list-box{margin-left:2px;padding-left:17px;text-indent:-.75em;width:100%}.meter-asset-medium--inner .cta-callout-medium-section #cta-list-box .checkmark{position:relative;left:-7px;top:2px}.meter-asset-medium--inner .cta-callout-medium-section #cta-list-box li{background:0 0;font-size:16px;font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif;font-weight:200;color:#fff;padding-bottom:16px}.meter-asset-medium--inner .cta-callout-medium-section .meter-wrap{width:80%;font-size:14px;color:#9B9B9B;font-weight:600;bottom:25px;position:absolute;margin-left:1px}.meter-asset-medium--inner .cta-callout-medium-section .meter-wrap .articles-remain-copy{text-transform:lowercase}.meter-asset-medium--inner .cta-connect-medium-section{position:relative;width:40%;background-color:#F6F6F6;height:100%;float:left}.meter-asset-medium--inner .cta-connect-medium-section img{width:260px;margin-bottom:10px}.meter-asset-medium--inner .cta-connect-medium-section .cta-connect-medium-section--inner{position:absolute;padding-top:24px;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:80%;height:87.5%;text-align:center;opacity:0;top:300px;-webkit-transition:all .25s ease-in-out,.85s;transition:all .25s ease-in-out,.85s}.meter-asset-medium--inner .cta-connect-medium-section .cta-connect-medium-section--inner.show-medium-inner{opacity:1;top:50%}.meter-asset-small--inner .rem-arts-small-container p{line-height:12px}.meter-asset-small--inner p{line-height:16px;padding-top:0}.subscriber-link a:hover{right:-4px;left:auto}.cta-login-small-container .login-wrapper .arrow-icon{top:auto;left:auto;right:0;bottom:-2px}@media only screen and (max-width:1024px){.meter-asset-small--inner .tagline-small-container{width:55%}.meter-asset-small--inner .subscriber-copy-login{top:0}.meter-asset-small--inner .cta-login-small-container .login-wrapper{line-height:0;padding-top:8px}.meter-asset-small--inner .cta-login-small-container .login-wrapper .arrow-icon{bottom:-6px}}@media only screen and (max-width:850px){.meter-asset-medium--inner .cta-callout-medium-section .cta-callout-medium-section--inner.show-medium-inner h1{font-size:1.7em}}.smallMeterCount{display:none}.meter-asset-small--inner .tagline-offer-text-smallScr{display:none}a.cta-smallScrn{display:none}@media only screen and (max-width:768px){.meter-asset-small--inner .cta-login-small-container .login-wrapper{top:-26px;left:100%}.meter-asset-small--inner .cta-login-small-container .login-wrapper a{color:#fff;font-size:10px;text-transform:uppercase}.growl_bug_container{display:none}.meter-asset-small--inner .cta-login-small-container,.tagline-small-container{display:block!important}.tagline-offer-text-smallScrn{font-size:13px}.meter-asset-wrapper{height:70px;width:100%;margin:0;-webkit-box-shadow:none;box-shadow:none}.meter-asset-small--inner .rem-arts-small-container{display:none}.smallMeterCount{display:block;position:relative;width:100%;height:24px;line-height:24px;background-color:#000;font-family:franklin-normal-500,sans-serif;font-style:normal;font-weight:500;font-size:10px;color:#fff}.smallMeterCount .smallMeterCount-remain-count{padding-left:2%}.meter-asset-small--inner .separator-small{display:none}.meter-asset-small--inner .tagline-small-container p{margin:0!important;padding-top:0!important}.smallMeterCount .arrow-icon-smallMeterCount{-webkit-transition:left .3s ease-in,0s;transition:left .3s ease-in,0s;height:28.5px;width:28.5px;display:inline;position:relative;top:-4.5px;left:-2px;float:right;-webkit-transform:rotate(90deg);transform:rotate(90deg);display:none}.arrow-icon-smallMeterCount .arrow-icon--path-smallMeterCount{fill:none;stroke:#fff;stroke-width:2;stroke-miterlimit:10;-webkit-transition:stroke .3s ease-in,0s;transition:stroke .3s ease-in,0s}a.cta-smallScrn{font-family:franklin-normal-600,sans-serif;color:#2D2D2D;font-size:13px;font-style:normal;font-weight:600;text-decoration:underline;display:inline-block}.meter-asset-small--inner .tagline-small-container{width:100%;top:7px}.meter-asset-small--inner .cta-login-small-container .cta-wrapper{display:none}}@media only screen and (min-width:768px){.growl_closed{width:11.52%;max-width:141px}.growl_closed .meter-asset-small--inner .rem-arts-small-container{width:83.3333%;background-color:#EFEFEF;z-index:99999;max-width:117px}.growl_closed .bug_collapse{display:none}.growl_open .bug_open{display:none}.getMedium .growl_bug_container{display:none}.growl_bug_container{position:absolute;right:0;top:0;width:2%;height:100%;background-color:#ADADAD;cursor:pointer;z-index:1000}.meter-10 .growl_bug_container,.meter-5 .growl_bug_container{display:none}.meter-10 .meter-asset-small--inner .cta-login-small-container,.meter-5 .meter-asset-small--inner .cta-login-small-container{right:32px}.growl_closed .growl_bug_container{width:16.6666%}.growl_bug_container svg{position:absolute;top:50%;margin-top:-7px;left:50%;margin-left:-4.5px}.growl_closed .separator-small{display:none}}.notransition{-webkit-transition:none!important;transition:none!important}@media only screen and (max-width:540px){.meter-asset-wrapper--inner .cta-btn{position:absolute;background:#000;left:2.5%;bottom:50px;color:#fff}.meter-asset-medium--inner .cta-connect-medium-section{position:static}.meter-asset-medium--inner .cta-callout-medium-section{width:100%}.meter-asset-medium--inner .cta-connect-medium-section .cta-connect-medium-section--inner{width:100%}.offer-header{display:none}.arrow-icon .arrow-icon--path{stroke:#fff}#gray-close .gray-close-0{stroke:#fff}.meter-asset-medium--inner .cta-connect-medium-section img{display:none}}</style><div class="meter-asset-wrapper growl_open"><svg style="display:none"><symbol id="checkmark"width="17.8"height="13.9"viewbox="0 0 17.8 13.9"><title>checkmark-Q1-sale-export</title><polygon points="17.8 2.8 14.9 0 6.5 8.5 2.7 4.7 0 7.3 6.6 13.9 6.7 13.8 6.7 13.9 17.8 2.8"style="fill:#0afffc"/></symbol></svg><div class="smallMeterCount"><span class="smallMeterCount-remain-count">9</span> <span class="smallMeterCount-remain-copy">ARTICLES REMAINING</span> <svg class="arrow-icon-smallMeterCount"xmlns="http://www.w3.org/2000/svg"viewbox="0 0 19.3 19.5"><path class="arrow-icon--path-smallMeterCount"d="M8.7 7.1l3.4 3.6M8.7 12.8l3.4-3.5"></path></svg></div><div id="growl_bug"class="growl_bug_container"><svg class="bug_collapse"width="9"height="14"viewBox="0 0 9 14"xmlns="http://www.w3.org/2000/svg"><g stroke="#FFF"stroke-width="3"fill="none"fill-rule="evenodd"stroke-linecap="square"><path d="M6.583 11.545L2.417 7M2.417 7l4.166-4.545"/></g></svg> <svg class="bug_open"width="9"height="14"viewBox="0 0 9 14"xmlns="http://www.w3.org/2000/svg"><title>Group 3</title><g stroke="#FFF"stroke-width="3"fill="none"fill-rule="evenodd"stroke-linecap="square"><path d="M2.417 2.455L6.583 7M6.583 7l-4.166 4.545"/></g></svg></div><div class="meter-asset-small meter-asset-wrapper--inner"><div class="meter-asset-small--inner"><div class="rem-arts-small-container"><h3 class="articles-remain-count">5</h3><p class="articles-remain-copy">ARTICLES REMAINING</p><p class="articles-remain-copy-smallScrn">REMAINING</p></div><div class="separator-small"></div><div class="tagline-small-container"><p class="tagline-offer-text"><span>One subscription. Endless discovery.</span></p><span class="tagline-offer-text-smallScrn">One subscription. Endless discovery.</span> <a href="https://www.nytimes.com/subscriptions/Multiproduct/lp8HYKU.html?campaignId="class="cta-smallScrn"target="_blank">See Options.</a></div><div class="cta-login-small-container"><div class="cta-wrapper"><a href="https://www.nytimes.com/subscriptions/Multiproduct/lp8HYKU.html?campaignId="class=""id="cta-link-collapsed"target="_blank"><button class="cta-btn">SEE MY OPTIONS</button></a></div><div class="login-wrapper subscriber-link"><a href="https://myaccount.nytimes.com/auth/login?campaignId="class="sitewideLogInModal login-modal-trigger"><span class="subscriber-copy-already">Subscriber login</span> <span class="subscriber-copy-login-small">Log In</span></a></div></div></div></div><div class="meter-asset-medium meter-asset-wrapper--inner"><div class="meter-asset-medium--header"><a href="javascript:;"data-content-placement="1"class="closeAsset"><svg class="arrow-icon-expGrowl"xmlns="http://www.w3.org/2000/svg"viewbox="0 0 19.3 19.5"><path class="arrow-icon--path-expGrowl"d="M8.7 7.1l3.4 3.6M8.7 12.8l3.4-3.5"></path></svg></a></div><div class="meter-asset-medium--inner"><div class="cta-callout-medium-section"><div class="cta-callout-medium-section--inner"><h1>One subscription.<br>Endless discovery.</h1></div><p class="meter-wrap"><span class="articles-remain-count">5</span> <span class="articles-remain-copy">articles remaining</span> this month</p></div><div class="cta-connect-medium-section"><div class="cta-connect-medium-section--inner"><img src="//cdn.optimizely.com/img/3013110282/2a4b2933f30a410ab31efe116bf99242.png"alt=""><h2 class="offer-header">Discover all that The Times has to offer.</h2><a href="https://www.nytimes.com/subscriptions/Multiproduct/lp8HYKU.html?campaignId="id="cta-link-expanded"target="_blank"><button class="cta-btn">SEE MY OPTIONS</button></a></div><p class="subscriber-link"><a href="https://myaccount.nytimes.com/auth/login?campaignId="class="sitewideLogInModal login-modal-trigger"><span>Already a subscriber? </span>Login <svg class="arrow-icon"xmlns="http://www.w3.org/2000/svg"viewbox="0 0 19.3 19.5"><path class="arrow-icon--path"d="M8.7 7.1l3.4 3.6M8.7 12.8l3.4-3.5"></path></svg></a></p></div></div></div></div><script type="text/javascript"src="https://static01.nyt.com/marketing/assets/optly/scripts/growl/main_growl_ab_meter2.2.js"></script>',creativeId:0,height:"120",isDirectlySold:"true",isInlineSafe:"Y",paid_post_tracking_url:"",paid_post_url:"",priority:"9000",width:"120"}},isDefault:!0}}}),function(e){"function"==typeof define&&define.amd?define("ecomm/url",["jquery/nyt"],function(t){return e(t)}):"object"==typeof NYTD&&(NYTD.Ecomm=NYTD.Ecomm||{},NYTD.Ecomm.Url=e(NYTD.jQuery||window.jQuery))}(function(e){return{parseUri:function(e){var t=e;("string"!=typeof t||null===t.match(/http|http/gim))&&(t="");for(var n={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=n.parser[n.strictMode?"strict":"loose"].exec(t),a={},o=14;o--;)a[n.key[o]]=i[o]||"";return a[n.q.name]={},a[n.key[12]].replace(n.q.parser,function(e,t,i){t&&(a[n.q.name][t]=i)}),a},parseCurrentUri:function(){return this.parseCurrentUri.result||(this.parseCurrentUri.result=this.parseUri(this.getLocationHref())),this.parseCurrentUri.result},getLocationHref:function(){return location.href},getParameter:function(e){var t=this.parseCurrentUri();return t.queryKey[e]},appendParamsToUrl:function(t,n){if(!t)return null;if(!n||"object"!=typeof n||n instanceof Array)return t;var i=void 0,a=void 0,o=void 0,r={},s=t;return s.indexOf("#")>-1&&(i=s.split("#"),s=i[0]),s.indexOf("?")>-1?(a=s.split("?"),o=a[0],r=this.parseUri(s).queryKey):o=s,r=e.extend({},r,n),o+"?"+e.param(r)+(i?"#"+i[1]:"")},updateQueryStringParameter:function(e,t,n){if(!e||"string"!=typeof e)return null;if(!t||"string"!=typeof t||"string"!=typeof n)return e;var i=new RegExp("([?|&])"+t+"=.*?(&|$)","i"),a=void 0,o=-1!==e.indexOf("?")?"&":"?";return a=e.match(i)?e.replace(i,"$1"+t+"="+n+"$2"):e+o+t+"="+n},getDomain:function(e){var t="string"==typeof e?e:"",n=t.match(/^https?\:\/\/([^\/:?#]+)(?:[\/:?#]|$)/i);return n?n[1]:void 0},getAdxKeywords:function(){var e=[],t=this.getParameter("smid"),n=this.getParameter("mtrref"),i=this.getDomain(document.referrer);return t&&""!==t&&e.push(t),n&&""!==n&&-1===n.indexOf("nytimes")&&e.push("mtr_"+n),i&&-1===i.indexOf("nytimes")&&e.push("mtr_"+i),e.join(",")},processUrlHref:function(t,n){if(!(t instanceof e)||"object"!=typeof n)return!1;var i=t.attr("href");if(!i||i.match(/^javascript:/i)||i.match(/^mailto:/i)||i.match(/^tel:/i)||i.match(/#/))return!1;var a=i.match(/[?|&]goto=([^;]+)/),o=a&&a[1]||null;o?(o=decodeURIComponent(o),o=encodeURIComponent(decodeURIComponent(this.appendParamsToUrl(o,n))),i=this.updateQueryStringParameter(i,"goto",o)):i=this.appendParamsToUrl(i,n),t.attr("href",i)}}}),function(e){"function"==typeof define&&define.amd?define("ecomm/cookies",[],function(){return e()}):"object"==typeof NYTD&&(NYTD.Ecomm=NYTD.Ecomm||{},NYTD.Ecomm.Cookies=e())}(function(){return{getMeterCookieCount:function(){var e=this.getDocumentCookies().match(/v=i.([0-9]+)/);return e?e[1]:!1},get:function(e){return new RegExp(e+"=([^;]+)","i").test(window.decodeURIComponent(this.getDocumentCookies()))?RegExp.$1:null},set:function(e,t,n){var i=new Date;i.setTime(i.getTime());var a=n;a&&(a=1e3*a*60*60*24);var o=new Date(i.getTime()+a),r=e+"="+t+";path=/"+(a?";expires="+o.toGMTString():"")+";domain=.nytimes.com";this.setDocumentCookies(r)},remove:function(e,t,n,i){var a=e+"=xxx"+(t?";path="+t:";path=/")+(n?";domain="+n:";domain=.nytimes.com")+(i?";secure":"")+"; expires=Thu, 01 Jan 1970 00:00:01 GMT;";this.setDocumentCookies(a)},getDocumentCookies:function(){return document.cookie},setDocumentCookies:function(e){document.cookie=e},getMtrabValues:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("Please specify correct array to process");var t="";return e.filter(function(e){return e&&e.name&&e.variation}).map(function(e,n,i){var a=n===i.length-1;t+=e.name+"="+e.variation,a||(t+="|")}),t},setOrRemoveMtrabCookie:function(e){var t="[object Array]"===Object.prototype.toString.call(e)?e:[e],n=this.getMtrabValues(t);n&&"NaN"!==n?this.set("mtrab",n):this.remove("mtrab")}}}),function(e){"function"==typeof define&&define.amd?define("ecomm/logger",["ecomm/url","ecomm/cookies"],function(t,n){return e(t,n)}):"object"==typeof NYTD&&(NYTD.Ecomm=NYTD.Ecomm||{},NYTD.Ecomm.Logger=e(NYTD.Ecomm.Url,NYTD.Ecomm.Cookies))}(function(e,t){var n=void 0,i=function(){function i(){_classCallCheck(this,i),this.debugQueryString=e.getParameter("debug"),this.debugCookie=t.get("mtr-debug")}return _createClass(i,[{key:"getConsole",value:function(){return window.console}},{key:"isDebugMode",value:function(){return!(!this.debugCookie&&void 0===this.debugQueryString)}},{key:"log",value:function(e){return"string"==typeof e&&""!==e&&this.isDebugMode()?(this.getConsole().log("[mtr.js] "+e),!0):!1}}],[{key:"getInstance",value:function(){return void 0===n&&(n=new i,n.constructor=null),n}}]),i}();return i}),function(e){if("function"==typeof define&&define.amd)define("ecomm/utils",["jquery/nyt","ecomm/logger","ecomm/url"],function(t,n,i){var a=n.getInstance();return e(t,"NYT5",a,i)});else if("object"==typeof NYTD){var t=NYTD.Ecomm.Logger.getInstance();NYTD.Ecomm=NYTD.Ecomm||{},NYTD.Ecomm.Utils=e(NYTD.jQuery||window.jQuery,"NYT4",t,NYTD.Ecomm.Url)}}(function(e,t,n,i){var a={getFilteredObject:function(t,n){var i={};return t&&n?(e.each(t,function(t,a){e.inArray(t,n)>-1&&(i[t]=a)}),i):i},getLink:function(e){return e.is("a")?e:e.parents("a").eq(0)},isHrefValid:function(e){var t=this.getLink(e).attr("href"),n=/^javascript:|^#|^mailto:/gim,i=!0;return(!t||t.match(n))&&(i=!1),i},runWhenReady:function(e,t,n,i,a){var o=a||5;setTimeout(function r(){e()?t():--o?setTimeout(r,i):n&&n()},i)},pageType:function(){var t=e("meta[name='PT']")[0];return t=t&&t.content||"",t.replace(/ /g,"")},getLocalStorage:function(){var e="testLocalStorage",t=window.localStorage;try{return t.setItem(e,"1"),t.removeItem(e),t}catch(n){return!1}},getUserAgent:function(){return navigator.userAgent},getLocation:function(){return window.location},isNYT5Env:function(){var e=document.getElementsByName("sourceApp"),t={"nyt-v5":!0,blogs:!0};return"undefined"!=typeof e[0]&&e[0].getAttribute("content")in t},parseAds:function(t){var i="",a="",o={adxCampaigns:i,creatives:a};return t&&t.ads&&(e.each(t.ads,function(e,t){t.campaign&&(i+=t.campaign),a+=t.creative}),o={adxCampaigns:i,creatives:a}),n.log("[utils module] parseAds: "+o),
o},appendAds:function(t,n){var i=this.parseAds(t),a=n&&n instanceof e&&n.length>0?n:e("body");return a.append(i.creatives),i.adxCampaigns},debounce:function(e,t){var n=null;return function(){var i=this,a=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(i,a)},t)}},getNytVersion:function(){return t},isSlideShowApp:function(){return e("html").hasClass("app-slideshow")},checkStringWithRegexp:function(e,t){if(!e||!t)throw new Error("checkStringWithRegexp(): both params should be specified");if("string"!=typeof t||"string"!=typeof e)throw new TypeError("checkStringWithRegexp(): use string as both parameters");var n=new RegExp(e,"i");return n.test(t)},removeGatewayHash:function(){var e=this.getLocation(),t=e.href.replace(/(\?|&)(gwh|gwt)=([^&]+)/gi,"");return e.replace(t),t},addGatewayHash:function(e,t,n){var a="";if(!e)return a;var o=this.getLocation(),r=t?"pay":"regi",s=window.decodeURIComponent(o.href).split("#");s=s.length>1?"#"+s[1]:null;var l=n?"&assetType="+n:"",c="mtrref="+i.getDomain(document.referrer)+"&gwh="+e+"&gwt="+r+l;return a=o.search?o.href+"&"+c:o.href+"?"+c,a=s?a.replace(s,"")+s:a,o.replace(a),a},getGatewayHashFromUri:function(){var e=window.decodeURIComponent(this.getLocation().search);return/gwh=([^&]+)/.test(e)?RegExp.$1:""},cleanUrlFromQueryAndHashes:function(){return this.getLocation().href.replace(/\b(\?|\#).+/g,"")},onEscapeKey:function(e){27===e.keyCode&&e.preventDefault()},getGatewayType:function(){var e=window.decodeURIComponent(this.getLocation().search),t=/gwt=([^&]+)/.test(e)?RegExp.$1:"";return"regi"===t?"regi":"pay"}};return a}),function(e){if("function"==typeof define&&define.amd)define("ecomm/etTracker",["jquery/nyt","ecomm/utils","ecomm/url","ecomm/cookies","ecomm/logger"],function(t,n,i,a,o){var r=o.getInstance();return e(t,n,i,a,r)});else if("object"==typeof NYTD){var t=NYTD.Ecomm.Logger.getInstance();NYTD.Ecomm=NYTD.Ecomm||{},NYTD.Ecomm.EtTracker=e(NYTD.jQuery||window.jQuery,NYTD.Ecomm.Utils,NYTD.Ecomm.Url,NYTD.Ecomm.Cookies,t)}}(function(e,t,n,i,a){var o=function(){function o(e){_classCallCheck(this,o),this.config=e,this.$container=e.$container,this.module=e.module,this.region=e.region,this.meterCount=e.meterCount||o.getMeterPageCount(),this.adxCampaignName=e.adxCampaignName||"",this.skipAnchorTracking=e.skipAnchorTracking||!1,e.isInTest||(this.init(e),this.updateAnchorETParamsHandler())}return _createClass(o,[{key:"init",value:function(i){a.log("[EtTracker module] init"),this.moduleInteractions=[{selector:".login-modal-trigger",tagxEvent:"login-click",action:"click",etParamKey:"modalLogin"},{selector:".registration-modal-trigger",tagxEvent:"regi-click",action:"click",etParamKey:"modalRegi"}];var o=n.parseUri(document.referrer);this.trackingParams={common:{version:"meter at "+this.meterCount,module:this.module,pgtype:t.pageType,region:this.region,contentId:this.adxCampaignName,mediaId:this.getMediaId(),referrer:o.host+o.path,priority:!0},load:{action:"Impression",eventName:"Impression"},close:{action:"click",eventName:"Dismiss"+this.module},modalRegi:{module:this.module+"-Regi",action:"click",eventName:"regi-click"},modalLogin:{module:this.module+"-Login",action:"click",eventName:"login-click"},links:{module:this.module+"-Links",action:"click",contentCollection:this.module.toLowerCase()+"-links-click"}},this.trackingParams=e.extend(!0,{},this.trackingParams,i.trackingParams),this.moduleInteractions=this.moduleInteractions.concat(i.moduleInteractions||[]),this.record(this.module.toLowerCase()+"-load",e.extend({},this.trackingParams.common,this.trackingParams.load),"impression"),this.skipAnchorTracking||this.setAnchorTracking(),this.setupModuleInteractions()}},{key:"updateAnchorETParamsHandler",value:function(){var t=this;e(document).on(this.module+".updateAnchorETParams",function(){a.log("[EtTracker module] updateAnchorETParamsHandler listener"),t.addAnchorTracking(t.$container,t.trackingParams)})}},{key:"getMediaId",value:function(){var t=e.trim(this.$container.find(".adxInfo").text()),n="";return t&&/creative:/.test(t)&&(n=t.replace(/.*creative:\s([^,]*).*/,"$1"),n=n.indexOf(" -- ")?e.trim(n.split(" -- ")[0]):n),n}},{key:"setupModuleInteractions",value:function(){for(var e=this,t=this.moduleInteractions||[],n=[],i=0;i<t.length;i++){var a=t[i].action;"click"===a&&(this.moduleInteractions[i].action="mouseup",a="mouseup"),-1===n.indexOf(a)&&n.push(a)}n.forEach(function(t){e.listenTo(t)})}},{key:"listenTo",value:function(e){var t=this;this.$container.on(e,function(e){t.handle(e)})}},{key:"isSelector",value:function(e,t){return e.is(t)||!!e.parents(t).length}},{key:"handle",value:function(t){for(var n=0;n<this.moduleInteractions.length;n++){var i=this.moduleInteractions[n],a=e(t.target);if(this.isSelector(a,i.selector)&&i.action===t.type){var o=3===t.which;o||(this.track(i.tagxEvent,i.etParamKey),i.callback&&"function"==typeof i.callback&&i.callback(t))}}}},{key:"setAnchorTracking",value:function(){var t=this;a.log("[EtTracker module] setAnchorTracking"),this.addAnchorTracking(this.$container,this.trackingParams),e(document).on(this.module+".updateAnchorETParams",function(){a.log("[EtTracker module] setAnchorTracking listener"),t.addAnchorTracking(t.$container,t.trackingParams)})}},{key:"addAnchorTracking",value:function(t,n){var i=this;if(a.log("[EtTracker module] addAnchorTracking"),!(t instanceof e)||"object"!=typeof n)throw new Error("Please specify both params with correct types and values");t.find("a").each(function(e,t){i.processLinks(t,n)})}},{key:"processLinks",value:function(i,o){if(a.log("[EtTracker module] processLinks -- selector: "+i),!i||!o||"object"!=typeof i||"object"!=typeof o)throw new Error("Please specify both params with correct types and values");var r=e(i),s=o;if(t.isHrefValid(r)){var l=t.getFilteredObject(r.data(),["contentCollection","contentPlacement"]),c=e.extend({},s.common,s.links,l);a.log("[EtTracker module] processLinks -- tagxArgs: "+JSON.stringify(c)),n.processUrlHref(r,c)}}},{key:"track",value:function(t,n,i){var a=this.trackingParams||{},o=e.extend({},a.common||{},a[n],i||{});this.record(t,o,"interaction")}},{key:"trackMeterUpdate",value:function(e){this.record("nytd:meter:viewedCountUpdated",{v:e})}},{key:"record",value:function(e,n,i){t.runWhenReady(function(){return"TAGX"in window},function(){a.log("[EtTracker module] -- TAGX Tracking Call: "+e+" -- "+(i||"")+" -- "+JSON.stringify(n)),TAGX.EventProxy.trigger(e,n,i)},null,1e3,10)}}],[{key:"getMeterPageCount",value:function(){var e=i.get("nyt-m")||"",t=e.match(/v=i\.([0-9]+)/);return t&&t[1]?parseInt(t[1],10):null}}]),o}();return o}),function(e){"function"==typeof define&&define.amd?define("ecomm/overlay",["jquery/nyt","ecomm/utils"],function(t,n){return e(t,n)}):"object"==typeof NYTD&&(NYTD.Ecomm.Overlay=e(NYTD.jQuery||window.jQuery,NYTD.Ecomm.Utils))}(function(e,t){var n=function(){function n(){_classCallCheck(this,n),this.imageHost=window.location.host.indexOf(".stg.")>0?"https://static.stg.nytimes.com":"https://static01.nyt.com"}return _createClass(n,[{key:"add",value:function(){var t=n.getCreative();n.display(t,function(){var t=void 0!==document.body.style.webkitTransition||void 0!==document.body.style.MozTransition||void 0!==document.body.style.OTransition||void 0!==document.body.style.msTransition,i=function(){e("#overlay").css("height",n.getGatewayHeight())};e(window).on("resize",function(){i()}),t||e("#overlay").css("background-image","url("+this.imageHost+"/images/global/backgrounds/transparentBG.gif)"),i(),n.blockContent()})}}],[{key:"getCreative",value:function(){var e=void 0,n=t.isSlideShowApp();return"NYT5"!==t.getNytVersion()||n?("NYT4"===t.getNytVersion()||n)&&(e="<div id=\"overlay\" style=\"\n                    z-index:1000;\n                    background: transparent;\n                    background:-moz-linear-gradient(center bottom , #000, transparent);\n                    background:-ms-linear-gradient(top, transparent, black);\n                    background: -webkit-gradient(linear, left bottom, left top, from(#000), to(transparent));\n                    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000010', endColorstr='#000000');\n                    position:fixed; width:100%; height:0; bottom:0; left:0; display: none\">\n                    </div>"):e='<div id="overlay" class="z-index-gateway-overlay" style="\n                    visibility: visible;\n                    background: transparent;\n                    background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwLjQiLz4KICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgPC9saW5lYXJHcmFkaWVudD4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIiBmaWxsPSJ1cmwoI2dyYWQtdWNnZy1nZW5lcmF0ZWQpIiAvPgo8L3N2Zz4=);\n                    background: -moz-linear-gradient(top, rgba(255,255,255,0.4) 0%, rgba(255,255,255,1) 100%); /* FF3.6+ */\n                    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(255,255,255,0.4)), color-stop(100%,rgba(255,255,255,1))); /* Chrome,Safari4+ */\n                    background: -webkit-linear-gradient(top, rgba(255,255,255,0.4) 0%,rgba(255,255,255,1) 100%); /* Chrome10+,Safari5.1+ */\n                    background: -o-linear-gradient(top, rgba(255,255,255,0.4) 0%,rgba(255,255,255,1) 100%); /* Opera 11.10+ */\n                    background: -ms-linear-gradient(top, rgba(255,255,255,0.4) 0%,rgba(255,255,255,1) 100%); /* IE10+ */\n                    background: linear-gradient(to bottom, rgba(255,255,255,0.4) 0%,rgba(255,255,255,1) 100%); /* W3C */\n                    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr=\'#66ffffff\', endColorstr=\'#ffffff\',GradientType=0 ); /* IE6-8 */\n                    position:fixed; width:100%; height:0; bottom:0; left:0; display: none">\n                    </div>',e}},{key:"getReferenceForClickableArea",value:function(){var t=e(".gateway-anchor").first(),n=e("#masthead"),i=e("#slideshow-header"),a=n.find(".container").first(),o=e(".navigation").first(),r=o.next(".subNavigation");return t.length>0?t:a.length>0?a:i.length>0?i:r.length>0?r:o.length>0?o:n.length>0?n:e(document.body)}},{key:"getGatewayHeight",value:function(){var t=n.getReferenceForClickableArea(),i=void 0;return i=null===t.offset()?"70%":e(window).height()-(t.offset().top+t.outerHeight(!0))}},{key:"display",value:function(t,i){return document.body&&document.body.firstChild?(e("body").append(t),void(i&&i())):void setTimeout(function(){n.display(t,i)},100)}},{key:"stopScrolling",value:function(){window.scroll(0,0),e("body").css({overflow:"hidden",margin:"0 0 85px 0","padding-right":"15px"}),e("html").css({overflow:"hidden"}),e(document).off("keypress keydown keyup touchmove"),e(document).on("keypress keydown keyup",function(e){return e.keyCode in{37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",36:"HOME",35:"END",33:"PAGEUP",34:"PAGEDOWN"}?(e.preventDefault(),!1):void 0}),window.Event&&"function"==typeof Event.stopObserving&&(Event.stopObserving(document,"keydown"),Event.stopObserving(document,"keyup"),Event.stopObserving(document,"keypress"),Event.stopObserving(window,"keydown"),Event.stopObserving(window,"keyup"),Event.stopObserving(window,"keypress"))}},{key:"removeNYTClean",value:function(){e("script").each(function(){return e(this).attr("src")&&e(this).attr("src").toLowerCase().indexOf("euri.ca")>0?(window.location.reload(),!1):void 0})}},{key:"blockContent",value:function(){var e=function(){n.stopScrolling(),n.removeNYTClean(),n.scrap()};e(),setInterval(e,1e3)}},{key:"scrap",value:function(){var t=["#article .articleInline","#article #readerscomment","#article .articleFooter","#article .authorIdentification","#article #articleExtras","#article .articleBottomExtra","#article .emailAlertModule","#article #pageLinks","#twitter-widget-0",".videoplayerContainer","iframe",".slideShowModule","#subscribeCallToAction","#story figure"].join(","),n=["#optimizelyIframe","figure.layout-horizontal-full-bleed",".has-vertical-full-bleed",".layout-vertical-full-bleed",".has-vertical-full-bleed #story figure"].join(",");e(t).not(n).remove(),e(["#article .articleBody p","#content .entry-content p","#content .postContent p","#story .story-body-text"].join(",")).each(function(t,n){var i=1,a=e(n);if(0===t){var o=a.html();o.length&&o.length<400&&(i=2)}if(t===i){var r=e('<p id="subscribeCallToAction" style="text-align: center; margin-top: 28px; font-family: arial,helvetica,sans-serif; font-size: 1.2em; font-weight: bold;"><a  data-content-collection="GWtoDSLP" data-content-placement="1" class="applicationButtonLt" href="https://www.nytimes.com/articlegate" style="width: 250px; padding: 7px 25px !important; font-weight: bold; color: #004276; text-decoration: none"><span>To see the full article, subscribe here.</span></a></p>');r.insertAfter(a)}else t>i&&a.remove()})}}]),n}();return n}),function(e){"function"==typeof define&&define.amd?define("auth/optimizelyGateway",["jquery/nyt","auth/gateway/creatives","ecomm/utils","ecomm/cookies","ecomm/url","ecomm/overlay","ecomm/etTracker","ecomm/logger"],function(t,n,i,a,o,r,s,l){return e(t,n,i,a,o,r,s,l)}):"object"==typeof NYTD&&(NYTD.OptimizelyGateway=e(NYTD.jQuery||window.jQuery,NYTD.GatewayCreatives,NYTD.Ecomm.Utils,NYTD.Ecomm.Cookies,NYTD.Ecomm.Url,NYTD.Ecomm.Overlay,NYTD.Ecomm.EtTracker,NYTD.Ecomm.Logger))}(function(e,t,n,i,a,o,r,s){var l=s.getInstance(),c=function(){function i(){_classCallCheck(this,i),this.wwwHost="https://www.nytimes.com",this.etTracker=null,this.timeoutReps=100,this.isDefaultLoaded=!1,this.debugFlag=l.isDebugMode()}return _createClass(i,[{key:"showDefaultCreative",value:function(){return this.isDefaultLoaded=!0,this.displayCreatives(t.defaultGateway,"defaultGateway")}},{key:"buildCreative",value:function(e){var t="width:100%; position:fixed; bottom: 80px; display: none; left:0;";"NYT4"===n.getNytVersion()&&(t+=" z-index: 1000000040;");var i=['<div id="gatewayCreative" class="z-index-gateway-overlay" style="'+t+'">','<div id="gatewayUnit" style="position:relative">'].concat(e||"").concat(["</div>","</div>"]).join("");return i}},{key:"addCreative",value:function(){var t=this,a=new o;a.add();var r=t.buildCreative(),s=e('meta[name="sourceApp"]').attr("content"),c="blogs"===s?300:100;n.runWhenReady(function(){return window.optly_events&&window.optly_events.gateway},function(){l.log("[OptimizelyGateway module] -- Optimizely Gateway loaded."),i.appendToBody(r,function(){t.showOverlayAndCreative("optimizelyGateway")})},function(){screen.width>768&&(l.log("[OptimizelyGateway module] -- Optimizely Gateway failed, loading default."),t.showDefaultCreative())},c,50)}},{key:"displayCreatives",value:function(e,t){var n=this;if(!e||"string"!=typeof e)throw new Error("please specify correct adCreatives parameter");var a=n.buildCreative(e);i.appendToBody(a,function(){n.showOverlayAndCreative(t)})}},{key:"initializeTagxTracker",value:function(t,n){var i=e.trim(e(e("#gatewayUnit .adxInfo")[0]).text()),a=n;i&&/campaign:/.test(i)&&(a=i.replace(/.*campaign:\s([^,]*).*/,"$1"));var o={$container:t,module:"Gateway",region:"FixedCenter",trackingParams:{common:{contentId:a}}};this.etTracker=new r(o)}},{key:"showOverlayAndCreative",value:function(t){var n=this;setTimeout(function(){var i=e("#gatewayCreative");n.initializeTagxTracker(i,t),e("#overlay").fadeIn(),i.fadeIn()},200)}}],[{key:"appendToBody",value:function(t,n){if(!t||"string"!=typeof t)throw new Error("appendToBody(): Specify correct html content to add");document.body?(e("html > body").append(t),"function"==typeof n&&n()):setTimeout(function(){i.appendToBody(t,n)},100)}}]),i}();return c}),function(e){if("function"==typeof define&&define.amd)define(["jquery/nyt","auth/optimizelyGateway","ecomm/utils","ecomm/url","ecomm/cookies","ecomm/etTracker","ecomm/logger"],function(t,n,i,a,o,r,s){return e(t,n,i,a,o,r,s)});else if("object"==typeof NYTD){var t=NYTD;t.Meter=e(t.jQuery||window.jQuery,t.OptimizelyGateway,t.Ecomm.Utils,t.Ecomm.Url,t.Ecomm.Cookies,t.Ecomm.EtTracker,t.Ecomm.Logger)}}(function(e,t,n,i,a,o,r){var s=[],l=void 0,c=function(){function c(){_classCallCheck(this,c);var t=i.getLocationHref();this.isStg=/stg/.test(t),this.isDebugMode=/debug/.test(t),this.meterSvc=this.isStg?"https://meter-svc.stg.nytimes.com/meter.js?&callback=?":"https://meter-svc.nytimes.com/meter.js?callback=?",this.currentCleanUrl=n.cleanUrlFromQueryAndHashes(),this.prevMeterCount=c.getMeterPagesCount(),this.logger=new r,c.meterReady=e.Deferred()}return _createClass(c,[{key:"init",value:function(){var t=this;if(e(document).on("popstate",function(){t.onUrlChange()}),c.isErrorPage())return e(document).off("keydown",n.onEscapeKey),!1;var i=n.getGatewayHashFromUri(),a=c.getCookieHash();i?i&&!a||i!==a?n.removeGatewayHash():i&&a&&i===a&&(t.loadGateway(),t.updateUserState(),c.meterReady.resolve()):t.checkMeter()}},{key:"onUrlChange",value:function(){var e=n.cleanUrlFromQueryAndHashes();this.currentCleanUrl!==e&&(this.checkMeter({url:n.getLocation().href,referrer:this.currentCleanUrl}),this.currentCleanUrl=e)}},{key:"updateUserState",value:function(){return n.isNYT5Env()?!1:void e.ajax({dataType:"jsonp",url:this.meterSvc,data:{url:n.getLocation().href},success:function(t){t.loggedIn&&e("html").addClass("user-logged-in")}})}},{key:"loadGateway",value:function(){var n=void 0;return c["final"]=!0,e(document).trigger("NYTD:MeterFinal",c),n=new t,n&&n.addCreative(),n}},{key:"checkMeter",value:function(t){var i=t||{url:n.getLocation().href,referrer:document.referrer};e(document).on("keydown",n.onEscapeKey),c.loaded=!1,this.get(i||{})}},{key:"getAbtestCookie",value:function(){var e=a.get("mtrab");return e&&(e=e.replace(/\|/g,"$"),e=encodeURIComponent(e),e=e.replace(/%3D/g,"=")),e}},{key:"get",value:function(t){var i=this,a=t&&t.url?t.url:n.getLocation().href,o=t&&null!==t.referrer&&void 0!==t.referrer?t.referrer:n.getLocation().href;t&&t.callback&&s.push(t.callback);var r=e("meta").filter('[name="channels"]').attr("content"),l="",m=void 0;"undefined"!=typeof r&&(l="&channels="+encodeURIComponent(r));var d=this.getAbtestCookie();d&&(l+="&"+d),m=this.meterSvc+l,e.ajax({dataType:"jsonp",url:m,data:{url:a,referer:o},success:function(e){i.onMeterLoaded(e,t,a)},error:function(e,t,n){i.logger.log(n),c.meterReady.reject()}})}},{key:"onMeterLoaded",value:function(t,i,r){var s=void 0;return this.etTracker=new o({$container:e("body"),module:"meter",skipAnchorTracking:!0}),t.v&&t.v!==this.prevMeterCount&&(this.etTracker.meterCount=t.v,this.etTracker.trackMeterUpdate(t.v)),t.assetType&&(s=t.assetType),e("head").append('<meta name="WT.z_cad" content="'+(t.counted?"1":"0")+'" /> '),parseInt(t.v,10)>parseInt(t.t,10)&&(this.isStg&&this.isDebugMode&&(t.ab.push({name:"test_experiment",variation:12}),t.ab.push({name:"second_test_experiment",variation:14})),a.setOrRemoveMtrabCookie(t.ab)),t.hitPaywall||t.hitRegiwall?void n.addGatewayHash(t.hash,t.hitPaywall,s):(this.completeInitialization(t,r,s),void c.meterReady.resolve())}},{key:"fillResponseObject",value:function(e,t,n,i){if(!e||!t)throw new Error("Please specify all required params.");var a=c.getMeterPagesCount(),o=i||c;return o.loaded=!0,o["final"]=!0,o.meterOn=e.meter,o.gatewayOn=e.gateway,o.hitPaywall=e.hitPaywall,o.hitRegiwall=e.hitRegiwall,o.cookieValid=e.isCookieValid,o.isLoggedIn=e.loggedIn,o.gatewayExempt=e.gatewayExempt,o.pageCount=a,o.url=t,o.assetType=n,o.counted=e.counted,o}},{key:"setUserLoggedInFlag",value:function(t){t.loggedIn&&e("html").addClass("user-logged-in")}},{key:"executeCallbacks",value:function(){e.each(s,function(e,t){t(c)}),s=[]}},{key:"triggerMeterHasBeenLoadedEvents",value:function(){e(document).trigger("NYTD:MeterLoaded",c),e(document).trigger("NYTD:MeterFinal",c)}},{key:"stopBlockingEscapeKey",value:function(){e(document).off("keydown",n.onEscapeKey)}},{key:"completeInitialization",value:function(e,t,n){this.fillResponseObject(e,t,n),this.setUserLoggedInFlag(e),this.executeCallbacks(),this.triggerMeterHasBeenLoadedEvents(),this.stopBlockingEscapeKey()}}],[{key:"getInstance",value:function(){return void 0===l&&(l=new c,l.constructor=null),l}},{key:"isErrorPage",value:function(){var e=document.getElementsByName("PST")[0],t=document.getElementsByTagName("title")[0],n=!1;return t&&t.innerHTML&&(n=/Page Not Found|Page unavailable/i.test(t.innerHTML)),!!(e&&e.content&&e.content.match(/error/i))||n}},{key:"getMeterPagesCount",value:function(){var e=c.processMeterCookie().match(/v=i\.([0-9]+)/);return e&&e[1]?parseInt(e[1],10):null}},{key:"processMeterCookie",value:function(){var e=a.get("nyt-m")||"";return e}},{key:"getCookieHash",value:function(){var e=32;return c.processMeterCookie().substr(0,e)}}]),c}();return l=c.getInstance(),l.init(),c.check=l.checkMeter,c}),function(e){var t=function(e,t){var n=e.getInstance(),i="function"==typeof define&&define.amd?require("jquery/nyt"):NYTD.jQuery;i(document).on("NYTD:MeterLoaded",function(e,t){n.init(t)}),t&&t.loaded&&n.init(t)};"function"==typeof define&&define.amd?(define("ecomm/growl",["foundation/hosts","jquery/nyt","auth/mtr","foundation/views/page-manager","ecomm/utils","ecomm/logger","ecomm/url","ecomm/etTracker","ecomm/cookies","auth/gateway/creatives"],function(t,n,i,a,o,r,s,l,c,m){return e(t,n,i,a,o,r,s,l,c,m)}),setTimeout(function(){require(["ecomm/growl","auth/mtr"],function(e,n){t(e,n)})},0)):"object"==typeof NYTD&&(NYTD.AuthGrowl=e(NYTD.Hosts,NYTD.jQuery,NYTD.Meter,void 0,NYTD.Ecomm.Utils,NYTD.Ecomm.Logger,NYTD.Ecomm.Url,NYTD.Ecomm.EtTracker,NYTD.Ecomm.Cookies,NYTD.Ecomm.Creatives),t(NYTD.AuthGrowl,NYTD.Meter))}(function(e,t,n,i,a,o,r,s,l,c){var m=void 0,d=o.getInstance(),u=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"init",value:function(e){this.mtrData=e,this.addGrowl()}},{key:"addGrowl",value:function(){var n=this,i=this.mtrData,o=t('meta[name="sourceApp"]').attr("content"),r="blogs"===o?150:100,s=[].concat(_toConsumableArray(Array.from({length:10},function(e,t){return t+1}))),l=s.includes(i.pageCount);return this.close(),d.isDebugMode()||i.gatewayOn&&i.meterOn&&i.counted?void a.runWhenReady(function(){return window.optly_events&&e.isOptlyGrowlAdded()},function(){d.log("[Growl module] -- Optimizely Growl loaded."),n.onOptimizelyGrowlLoaded()},function(){l&&screen.width>768&&(d.log("[Growl module] -- Optimizely Growl failed, loading default."),n.onDefaultGrowlLoaded(c.defaultGrowl))},r,100):!1}},{key:"setGrowlPosition",value:function(){if(!this.$container)return!1;var e=t("#masthead"),n=e.length?e.offset().left:0,i=this.$container.find("#growl-container");n>0?i.css("left",n):i.removeAttr("style")}},{key:"_getPageManager",value:function(){return i}},{key:"attachNYT5Handlers",value:function(){var e=this._getPageManager();return e?(this.setGrowlPosition(),e.listenTo(e,"nyt:page-resize",this.setGrowlPosition),e.listenTo(e,"nyt:page-ready",this.setGrowlPosition),!0):!1}},{key:"onOptimizelyGrowlLoaded",value:function(){var n=this,i=this.mtrData.pageCount,a=t("meta[name='PT']").attr("content");a=a?a.replace(/\s/g,""):"Article";var o=e.getOptlyGrowlContainer(),r=t.trim(o.find(".adxInfo").text()),s="";return r&&/campaign:/.test(r)&&(s=r.replace(/.*campaign:\s([^,]*).*/,"$1")),this.attachNYT5Handlers(),e.setupTracking({adxCampaigns:s,pageType:a,$growlContainer:o,meterCount:i,callback:function(e){n.close(e)}}),t(document).trigger("NYTD:AuthGrowlLoaded",{count:i}),!0}},{key:"onDefaultGrowlLoaded",value:function(n){var i=this,o=this.mtrData.pageCount,r=t("html > body"),s=function(){return o!==parseInt(l.getMeterCookieCount(),10)};if(s())return!1;if(!n||!n.ads||!n.ads.Left9)return!1;var c=t("meta[name='PT']").attr("content");c=c?c.replace(/\s/g,""):"Article",this.$container&&this.$container.off("click").remove(),this.$container=t("<div class='mtr-growl-container'></div>"),a.appendAds(n,this.$container),r.append(this.$container);var m=this.$container;return this.attachNYT5Handlers(),e.setupTracking({adxCampaigns:"default_growl",pageType:c,$growlContainer:m,meterCount:o,callback:function(e){i.close(e)}}),n.isDefault&&this.processDefaultGrowl(o),t(document).trigger("NYTD:AuthGrowlLoaded",{count:o}),!0}},{key:"processDefaultGrowl",value:function(e){var n=t("html").hasClass("user-logged-in"),i=t(".mtr-growl-container");i.attr({"data-count":e,"data-loggedIn":n})}},{key:"close",value:function(e){var t=this;return this.$container?(this.$container.fadeOut("slow",function(){t.$container&&(t.$container.unbind("click"),t.$container.remove())}),void(e&&e.preventDefault())):!1}}],[{key:"getInstance",value:function(){return void 0===m&&(m=new e,m.constructor=null),m}},{key:"isGrowlAdxCampaign",value:function(e){return a.checkStringWithRegexp("growl",e)}},{key:"isInterstitialAdxCampaign",value:function(e){return a.checkStringWithRegexp("interstitial",e)}},{key:"setupTracking",value:function(t){d.log("[Growl module] -- setupTracking: "+t);var n=void 0,i={$container:t.$growlContainer,module:"Growl",region:"FixedBottom",adxCampaignName:t.adxCampaigns,meterCount:t.meterCount,trackingParams:{expand:{eventName:"adExpansion",action:"hover"}},moduleInteractions:[{selector:".nytdGrowlNotifyCross",action:"click",tagxEvent:"growl-close",etParamKey:"close",callback:t.callback}]},o={$container:t.$growlContainer,module:"Interstitial",region:"FixedCenter",pgtype:t.pageType,adxCampaignName:t.adxCampaigns,meterCount:t.meterCount,moduleInteractions:[{selector:".nytdGrowlNotifyCross",action:"click",tagxEvent:"interstitial-close",etParamKey:"close",callback:t.callback}]};e.isGrowlAdxCampaign(t.adxCampaigns)?(n=new s(i),t.$growlContainer.on("growl.expandable",function(){t.$growlContainer.on("mouseenter",a.debounce(function(){n.track("growl-expand","expand")},300)).off("growl.expandable")})):e.isInterstitialAdxCampaign(t.adxCampaigns)&&(n=new s(o)),this.etTracker=n}},{key:"isOptlyGrowlAdded",value:function(){return t("#Growl_optly").children().length||t("#Interstitial_optly").children().length}},{key:"getOptlyGrowlContainer",value:function(){var e=void 0;return t("#Growl_optly").children().length?e=t("#Growl_optly"):t("#Interstitial_optly").children().length&&(e=t("#Interstitial_optly")),e}}]),e}();return u});